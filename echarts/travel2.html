<!DOCTYPE html>
<html lang="UTF-8">
<head>
    <meta charset="UTF-8">
    <title>旅发委数据展示</title>
    <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.css"/>
    <link rel="stylesheet" href="../bootstrap/css/font-awesome.css"/>
    <script type="text/javascript" src="../bootstrap/js/bootstrap.js"></script>
    <script type="text/javascript" src="js/echarts.js"></script>
</head>
<style>
    .i-warp{
        display:inline-block;
        width:130px;
        padding:25px;
    }
    .i-warp i{
        font-size:78px;
        color:#fff
    }
    .sub-text{
        text-align:center;
        display:inline-block;
        vertical-align:top;
        width: 40%;
    }
    .count-number{
        font-weight:bold;
        font-size:31px
    }
    p{
        margin:0
    }
    .white{
        background-color:#fff;
        padding:0;
        border-radius:3px;
        margin-top:10px;
    }
</style>
<body>
<div class="container-fluid">
<div class="row" style="background-color:#0d1a44">
    <div class="col-md-3 col-lg-3 col-md-offset-1 col-lg-offset-1 white">
        <div class="i-warp" style="background-color:#6ccac9;">
            <i class="fa fa-road"></i>
        </div>
        <div class="sub-text">
            <p>铁路客流量（进）</p>
            <p class="count-number">1288</p>
            <p>铁路客流量（出）</p>
            <p class="count-number">1188</p>
        </div>
    </div>
    <div class="col-md-3 col-lg-3 white" style="margin:10px 4%">
        <div class="i-warp" style="background-color:#ff6c60;">
            <i class="fa fa-car"></i>
        </div>
        <div class="sub-text">
            <p>铁路客流量（进）</p>
            <p class="count-number">1288</p>
            <p>铁路客流量（出）</p>
            <p class="count-number">1188</p>
        </div>
    </div>
    <div class="col-md-3 col-lg-3 white">
        <div class="i-warp" style="background-color:#57c8f2;">
            <i class="fa fa-university"></i>
        </div>
        <div class="sub-text">
            <p>铁路客流量（进）</p>
            <p class="count-number">1288</p>
            <p>铁路客流量（出）</p>
            <p class="count-number">1188</p>
        </div>
    </div>
    <div class="col-md-12 col-lg-12" style="background-color:#fff">
        <div id="charts" style="width:50%;height:500px;float:left"></div>
        <div id="charts2" style="width:50%;height:500px;float:left;"></div>
    </div>
</div>
</div>
</body>
</html>
<script type="text/javascript">
    var dataMap = {};
    function dataFormatter(obj) {
        var pList = ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月'];
        var temp;
        for (var year = 2009; year <= 2011; year++) {
            var max = 0;
            var sum = 0;
            temp = obj[year];
            for (var i = 0, l = temp.length; i < l; i++) {
                max = Math.max(max, temp[i]);
                sum += temp[i];
                obj[year][i] = {
                    name : pList[i],
                    value : temp[i]
                }
            }
            obj[year + 'max'] = Math.floor(max / 100) * 100;
            obj[year + 'sum'] = sum;
        }
        return obj;
    }
    dataMap.dataPeople = dataFormatter({
        2011:[10,20,30,40,50,60,70,80,90,100,110,120],
        2010:[120,110,100,90,80,70,60,50,40,30,20,10],
        2009:[110,120,130,140,150,160,170,180,190,200,200],
    })
    dataMap.dataPeople2 = dataFormatter({
        2011:[45,66,256,40,988,60,70,80,90,100,110,120],
        2010:[666,522,777,90,80,70,60,50,844,566,700,423],
        2009:[222,422,130,888,372,160,170,612,999,421,543],
    })
    var charts = echarts.init(document.getElementById('charts'));
    var charts2 = echarts.init(document.getElementById('charts2'))
    option = {
        baseOption:{
            timeline:{
                axisType:'category',
                autoPlay:true,
                playInterval:3000,
                data:['2009','2010','2011'],
                top:'0'
            },
            tooltip:{},
            xAxis:[
                {
                    'type':'category',
                    'axisLabel':{'interval':0},
                    'data':[
                        '1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月'
                    ],
                    splitLine:{show:false}
                }
            ],
            yAxis:[
                {
                    type:'value',
                    name:'人数'
                }
            ],
            series:[
                {name:'人数',type:'bar'}
            ]
        },
        options:[
            {
                title:{text:'旅游人数'},
                series:[
                    {data:dataMap.dataPeople['2009']}
                ]
            },
            {
                title:{text:'旅游人数'},
                series:[
                    {data:dataMap.dataPeople['2010']}
                ]
            },
            {
                title:{text:'旅游人数'},
                series:[
                    {data:dataMap.dataPeople['2011']}
                ]
            },
        ]
    }
    option2 = {
        baseOption:{
            timeline:{
                axisType:'category',
                autoPlay:true,
                playInterval:3000,
                data:['2009','2010','2011'],
                top:0
            },
            tooltip:{},
            xAxis:[
                {
                    'type':'category',
                    'axisLabel':{'interval':0},
                    'data':[
                        '梯田','燕子洞','建水古城','碧色寨火车站','朱家花园','卢江公园','白龙洞'
                    ],
                    splitLine:{show:false}
                }
            ],
            yAxis:[
                {
                    type:'value',
                    name:'人数',
                }
            ],
            series:[
                {name:'人数',type:'bar'}
            ]
        },
        options:[
            {
                title:{text:'旅游人数'},
                series:[
                    {data:dataMap.dataPeople2['2009']}
                ],
                itemStyle:{
                    normal:{
                        color:'#5137ff'
                    }
                }
            },
            {
                title:{text:'旅游人数'},
                series:[
                    {data:dataMap.dataPeople2['2010']}
                ]
            },
            {
                title:{text:'旅游人数'},
                series:[
                    {data:dataMap.dataPeople2['2011']}
                ]
            },
        ]
    }
    charts.setOption(option);
    charts2.setOption(option2)
</script>
